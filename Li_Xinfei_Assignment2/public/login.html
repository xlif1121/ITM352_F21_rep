<script src="login.css" rel="stylesheet" type="text/css"></script>
<!DOCTYPE html>
<html lang="en">

<head>
    <script>
        //let the users know if they have errors on username or password
        let params = (new URL(document.location)).searchParams;
        window.onload = function () {
            if (params.has('LoginError')) {// if errors occurs, give alert
                alert(params.get('LoginError'));
            }
            if (params.has('username')) {
                usernameid.value = params.get('username')
            }
        }
    </script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
</head>

<body>
    <div class="imgcontainer">
        <img src="./images/9999.jpg">
        <style>
            aside {
                display: flex;
                align-items: stretch;
                background: no-repeat 50% center;
                padding: 50px 0;
            }
        </style>
    </div>
    <script>
        document.write(`<form action="process_login${location.search}"  method="POST">`);
    </script>

    <div class="container">
        <label for="username"><b>Username</b></label>
        <input id="usernameid" type="text" placeholder="Enter Username" name="username"
            onchange='this.value=this.value.toLowerCase();' required>

        <label for="password"><b>Password</b></label>
        <input type="password" placeholder="Enter Password" name="password" required>

        <button class="log-in" type="submit" value="Login" name="login"> Login </button>

        <input type="button" onClick="location.href='index.html'" class="cancelbtn" value='Cancel'>

        <label>
            <input type="checkbox" checked="checked" name="remember"> Keep me signed in
        </label>
    </div>

    <div><span class="psw">Forgot <a href="#">password?</a> or <a href="#">username?</a></span></div>

    <div>
        <script>
            document.write(`<p><center>New to Xinfei's mugs store? Create an account and join the xinfei's mugs loyalty program. Earn points, redeem rewards, and more.<a href="./register.html${location.search}"> Sign Up Now!</a>.</p></center>`);
        </script>
    </div>
    </form>
    <script>
        login.action += document.location.search; //saves the query string from products page for invoice 
    </script>

</body>

</html>